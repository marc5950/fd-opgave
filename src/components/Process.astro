---
import DynamicIcon from "./helpers/DynamicIcon.astro";
import { Image } from "astro:assets";
import process1 from "@assets/images/process1.jpg";
import process2 from "@assets/images/process2.jpg";
import process3 from "@assets/images/process3.jpg";
---

<section class="container">
  <div class="process">
    <div class="process-content">
      <div class="title">
        <p>PROCESS</p>
        <h2>Contact Us. It’s Easy.</h2>
        <p>
          Leverage agile frameworks to provide a robust synopsis for high level
          overviews. Iterative approaches to corporate strategy foster
          collaborative.
        </p>
      </div>
      <div class="process-tags">
        <div class="process-tag">
          <DynamicIcon name="phone" />
          <div>
            <p>Call Today</p>
            <a href="tel: +1 800 100 900">+1 800 100 900</a>
          </div>
        </div>
        <div class="process-tag">
          <DynamicIcon name="clock" />
          <div>
            <p>Monday To Friday</p>
            <p>9AM - 5PM</p>
          </div>
        </div>
        <div class="process-tag">
          <DynamicIcon name="pin" />
          <div>
            <p>USA Office</p>
            <p>195 Devonshire St Boston, MA 02110</p>
          </div>
        </div>
      </div>
    </div>
    <div class="bento-album">
      <Image src={process1} alt="" />
      <Image src={process2} alt="" />
      <Image src={process3} alt="" />
    </div>
  </div>
</section>

<style>
  .process {
    display: flex;
    gap: 2rem;
    justify-content: space-between;
    @media (max-width: 1000px) {
      flex-direction: column;
    }
  }

  .process-content {
    max-width: 50ch;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .process-tags {
    display: flex;
    flex-direction: column;
    gap: 2rem;

    .process-tag {
      display: flex;
      gap: 1rem;

      /* Fælles styling for alle ikoner */
      > :first-child {
        width: 52px;
        height: 52px;
        padding: 10px;
        border-radius: 100%;
      }

      div {
        & > :nth-child(1) {
          --text-color: var(--text-gray);
        }
        & > :nth-child(2) {
          font-weight: bold;
        }
      }
    }

    /* Individuel styling for hver ikon */
    & > :nth-child(1) > :first-child {
      background: #ffecbb;
      color: #deaa27;
    }
    & > :nth-child(2) > :first-child {
      background: #a4eda4;
      color: #4eaf4e;
    }
    & > :nth-child(3) > :first-child {
      background: #eaeaea;
      color: #181818;
    }
  }

  .bento-album {
    display: grid;
    gap: 1rem;
    position: relative;

    > * {
      border-radius: 10px;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    > :nth-child(1) {
      grid-column: 1 / 2;
      grid-row: 1 / 3;
    }
    > :nth-child(2) {
      grid-column: 2 / 3;
      grid-row: 1 / 2;
    }
    > :nth-child(3) {
      grid-column: 2 / 3;
      grid-row: 2 / 3;
    }
    &::before {
      --square-count: 13;
      --square-size: 1.1rem;

      --_square-size: var(--square-size, 1rem);
      --_square-half: calc(var(--square-size) / 2);
      --_square-sum: calc(var(--square-count) * var(--square-size));
      z-index: -1;
      content: "";
      position: absolute;
      inset: -20px -50px auto auto;
      /*inline-size: calc(var(--square-count) * 1.34rem - .67rem);*/
      inline-size: calc(
        round(var(--_square-sum), var(--_square-size)) - var(--_square-half)
      );
      aspect-ratio: 1;
      background: linear-gradient(
          135deg,
          #be965d,
          #976f40,
          #c99b61,
          #f0be7b,
          #ffcb85,
          #eebc79,
          #c0935b,
          #976f40
        )
        0 0 / 100% 100%;
      mask:
        var(--square-pattern) 0 0 / var(--_square-size) var(--_square-size),
        var(--square-pattern) var(--_square-half) var(--_square-half) /
          var(--_square-size) var(--_square-size);
      /*clip-path: polygon(-3% 0%, 100% 0%, 100% 103%);*/
    }

    &::after {
      content: "";
      position: absolute;
      left: -40px;
      bottom: -25px;
      background: var(--primary-color02);
      width: 200px;
      height: 100px;
      border-radius: 10px;
      z-index: -1;
    }
  }
</style>
